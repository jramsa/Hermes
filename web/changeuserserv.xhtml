<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      lang="fr" xml:lang="fr">
    <h:head>
        <title>MonSI APHP</title>
        <link rel="stylesheet" type="text/css" href="style/style.css" media="all" />
        <style>
        </style>
        <h:outputStylesheet library="css" name="sweetalert.css" />
        <h:outputScript library="js" name="sweetalert.min.js" />
    </h:head>

    <h:body>
        <div class="bod">

            <header>
                <img src="img/aphp.jpg" alt="Logo APHP" class="logo" />
                MonSI APHP
            </header>	


            <div class="corps">
                <table class="droite">
                    <tr>
                        <td colspan="2" class="texteDr">#{dateBean.date}</td>
                    </tr>
                    <tr>
                        <td class = "gras">Bonjour Admin</td> 
                        <td class="boutonBleu"><p:link outcome="index" value="D&eacute;connexion" class="texteBlanc"></p:link></td>
                    </tr>
                </table>

                <br/><br/>

                <div>
                    <table class="bcentre">
                        <tr><td class="boutonVert">Ajouter un utilisateur &agrave; un service</td></tr>
                    </table>

                    <h:form>
                        <table class = "form3">
                            <tr>
                                <td class ="texteDr"><h:outputText value="H&ocirc;pital: " /></td>
                                <td>
                                    <p:selectOneMenu id="nameHosp" value="#{hubBean.nameHosp}" style="width:205px">
                                        <p:ajax listener="#{hubBean.onHubinHasHubChange()}" update="poleName" />
                                        <f:selectItems value="#{hubBean.aGetListHospinHasHub()}" var="hospName"/>
                                    </p:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td class ="texteDr"><h:outputText value="P&ocirc;le : " /></td>
                                <td>
                                    <p:selectOneMenu id="poleName" value="#{hubBean.nameHub}" style="width:205px">
                                        <p:ajax listener="#{hubBean.onListServHasServChange()}" update="serviceName" />
                                        <f:selectItems value="#{hubBean.listHubinHasHub}" var="poleName"/>
                                    </p:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td class ="texteDr"><h:outputText value="Service : " /></td>
                                <td>
                                    <p:selectOneMenu id="serviceName" value="#{hubBean.nameServ}" style="width:205px">
                                        <p:ajax listener="#{hubBean.onListUserChange()}" update="userName" />
                                        <f:selectItems value="#{hubBean.listServHasServ}" var="serviceName"/>
                                    </p:selectOneMenu>
                                </td>
                            </tr>
                            <tr>
                                <td class ="texteDr"><h:outputText value="Utilisateur : " /></td>
                                <td>
                                    <p:selectOneMenu id="userName" value="#{hubBean.nameUser}" style="width:205px">
                                        <f:selectItems value="#{hubBean.listUser}" var="userName"/>
                                    </p:selectOneMenu>
                                </td>
                            </tr>
                        </table>

                        <table class="form2">
                            <tr>
                                <td><p:commandButton action="#{hubBean.addUserToServ()}" value="Enregistrer" class="boutonBleu2" /></td>
                            </tr>
                            <tr>
                                <td><p:link outcome="admin" value="&lt; Retour Page pr&eacute;c&eacute;dente" class="texteBleu"></p:link></td>
                            </tr>
                        </table>

                    </h:form>
                </div>	
            </div>

            <footer>
                2017 Copyright Olympus - Aide - Contact
            </footer>
        </div>


    </h:body>
</html>
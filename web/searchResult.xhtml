<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:p="http://primefaces.org/ui" 
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      lang="en" xml:lang="en">

    <h:head>
        <title>MonSI APHP</title><link rel="stylesheet" type="text/css" href="style/style.css" media="all" />
        <style>
        </style>
    </h:head>

    <h:body>

        <div class="bod">
            <header>
                <img src="img/aphp.jpg" alt="Logo APHP" class="logo" />
                MonSI APHP
            </header>	


            <div class="corps">
                <table class="droite">
                    <tr>
                        <td colspan="2" class="texteDr">#{dateBean.date}</td>
                    </tr>
                    <tr>
                        <td class = "gras">Bonjour <span class="souligne"><p:link outcome="infoUser" value="#{userBean.user.firstnameUser}"></p:link></span></td> 
                        <td class="boutonBleu"><p:link outcome="index" value="D&eacute;connexion" class="texteBlanc"></p:link></td>
                    </tr>
                </table>

                <br/><br/>

                <div>
                    <h:form>
                    <p:dataTable var="p" value="#{patientBean.patientResult()}" selectionMode="single" selection="#{patientBean.selectedPatient}" rowKey="#{p.socialSecurityId}">
                        <p:ajax event="rowSelect" listener="#{patientBean.selectPatient}" />  
                         
                        <p:column headerText="Num. s&eacute;cu. sociale">
                            <p:outputLabel value="#{p.socialSecurityId}"></p:outputLabel>                           
                        </p:column>
                        
                        <p:column headerText="Nom">
                            <p:outputLabel value="#{p.lastnamePatient}"></p:outputLabel>
                        </p:column>

                        <p:column headerText="Pr&eacute;nom">
                            <p:outputLabel value="#{p.firsnamePatient}"></p:outputLabel>
                        </p:column>

                        <p:column headerText="Date de naissance">
                            <p:outputLabel value="#{p.dateOfBirth}"></p:outputLabel>
                        </p:column>

                        <p:column headerText="Ville">
                            <p:outputLabel value="#{p.cityAddress}"></p:outputLabel>
                        </p:column>
                    </p:dataTable>
                        
                    <!--Mettre un boutton-->    
                    <h:commandLink action="resultPatient">
                        <h:graphicImage value="img/disquette.png" class="logo2" />
                    </h:commandLink>
                        
                   </h:form> 
                    <table class="form2">
                        <tr>
                            <td><p:link outcome="accueil" value="&lt; Retour Page pr&eacute;c&eacute;dente" class="texteBleu"></p:link></td>
                        </tr>
                    </table>

                </div>	
            </div>

            <footer>
                2017 Copyright Olympus - Aide - Contact
            </footer>
        </div>

    </h:body>
</html>